{"version":3,"file":"console-element.js","mappings":"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","sources":["webpack://@webqit/subscript/./src/console/Base.js","webpack://@webqit/subscript/./src/util.js","webpack://@webqit/subscript/webpack/bootstrap","webpack://@webqit/subscript/webpack/runtime/define property getters","webpack://@webqit/subscript/webpack/runtime/hasOwnProperty shorthand","webpack://@webqit/subscript/./src/console/CodeBlock.js","webpack://@webqit/subscript/./src/console/Interactable.js","webpack://@webqit/subscript/./src/console/Ref.js","webpack://@webqit/subscript/./src/console/Unit.js","webpack://@webqit/subscript/./src/console/Console.js"],"sourcesContent":["\n/**\n * @Console2\n */\nexport default Element => class Base extends Element {\n\n    constructor() {\n        super();\n        this.attachShadow( { mode: 'open' } );\n    }\n\n    connectedCallback() {\n        [].concat( this.css ).forEach( css => {\n            if ( css.includes( '{' ) && css.includes( ':' ) && css.includes( ';' ) ) {\n                let cssElement = this.shadowRoot.appendChild( document.createElement( 'style' ) );\n                cssElement.textContent = css;\n            } else {\n                let cssElement = this.shadowRoot.appendChild( document.createElement( 'link' ) );\n                cssElement.setAttribute( 'rel', 'stylesheet' );\n                cssElement.setAttribute( 'href', css );\n            }\n        } );\n    }\n\n    /**\n     * ----------\n     *  CSS\n     * ----------\n     */\n\n     get css() {\n        return []\n    }\n\n}","\n/**\n * @normalizeTabs\n */\nexport  function normalizeTabs( rawSource ) {\n    let rawSourceSplit = rawSource.split(/\\n/g);\n    if ( rawSourceSplit.length > 1 ) {\n        while ( !rawSourceSplit[ 0 ].trim().length ) rawSourceSplit.shift();\n        let possibleBodyIndentLevel = rawSourceSplit[ 0 ].split(/[^\\s]/)[0].length;\n        if ( possibleBodyIndentLevel ) {\n            return rawSourceSplit.map( ( line, i ) => {\n                let possibleIndent = line.substring( 0, possibleBodyIndentLevel );\n                if ( !possibleIndent.trim().length ) {\n                    return line.substring( possibleBodyIndentLevel );\n                }\n                // Last line?\n                if ( possibleIndent.trim() === '}' && i === rawSourceSplit.length - 1 ) {\n                    return '}';\n                }\n                return line;\n            } ).join( \"\\n\" );\n        }\n    }\n    return rawSource;\n}","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","\n/**\n * @imports\n */\nimport { normalizeTabs } from '../util.js';\nimport Base from './Base.js';\n\n/**\n * @CodeBlock\n */\nexport default CodeBlock => class extends Base( CodeBlock || HTMLElement ) {\n\n    static get observedAttributes() {\n        return [ 'name', 'editable', 'placeholder' ];\n    }\n\n    connectedCallback() {\n        let escape = html => html.replace( new RegExp( '&', 'g' ), '&amp;' ).replace( new RegExp( '<', 'g' ), '&lt;' );\n        this._lang = 'javascript';\n        this._editable = this.getAttribute( 'editable' );\n        this._styledBlock = this.getAttribute( 'styled-block' ) || 'pre';\n        // ----------------\n        this._div = document.createElement( 'div' );\n        this._preBlock = this._div.appendChild( document.createElement( 'pre' ) );\n        this._codeBlock = this._preBlock.appendChild( document.createElement( 'code' ) );\n        this._div.classList.add( 'line-numbers' );\n        this._div.classList.add( 'container' );\n        //this._preBlock.setAttribute( 'data-label', 'Test' );\n        //this._div.classList.add( 'match-braces' );\n        //this._preBlock.setAttribute( 'data-line', '1' );\n        if ( this._lang ) {\n            this._preBlock.classList.add( 'language-' + this._lang );\n            this._codeBlock.classList.add( 'language-' + this._lang );\n        }\n        this._contentSlot = document.createElement( 'slot' );\n        this._contentSlot.setAttribute( 'aria-hidden', 'true' );\n        this._contentSlot.setAttribute( 'hidden', 'true' );\n        this._initialSlotEvent = false;\n        this._contentSlot.addEventListener( 'slotchange', () => {\n            let html = this._contentSlot.assignedNodes().reduce( ( _html, node ) => _html + ( node.outerHTML || node.nodeValue || '' ), '' );\n            if ( !this._initialSlotEvent ) {\n                html = normalizeTabs( html );\n                this._initialSlotEvent = true;\n            }\n            if ( this._textarea ) {\n                this._textarea.value = html;\n            }\n            this.source = escape( html );\n        } );\n        // ----------------\n        if ( this._editable === 'true' ) {\n            this._addEditor();\n        }\n        // ----------------\n        this.shadowRoot.append( this._contentSlot, this._textarea || '', this._div );\n        // ----------------\n        super.connectedCallback();\n    }\n\n    get source() {\n        return this._codeBlock.textContent;\n    }\n\n    set source( text ) {\n        if ( text.endsWith( \"\\n\" ) ) {\n            text += \" \";\n        }\n        this._codeBlock.innerHTML = '';\n        this._codeBlock.innerHTML = text;\n        this._highlightCodeBlock();\n        this._syncScrolling();\n    }\n\n    get name() {\n        return this._name;\n    }\n\n    set name( newValue ) {\n        return this.setAttribute( 'name', newValue );\n    }\n\n    get placeholder() {\n        return this._placeholder;\n    }\n\n    set placeholder( newValue ) {\n        return this.setAttribute( 'placeholder', newValue );\n    }\n\n    get editable() {\n        return this._editable;\n    }\n\n    set editable( newValue ) {\n        return this.setAttribute( 'editable', newValue === true ? 'true' : ( newValue === false ? 'false' : newValue ) );\n    }\n\n    _addEditor() {\n        this._placeholder = this.getAttribute( 'placeholder' ),\n        this._name = this.getAttribute( 'name' );\n        this._textarea = this._div.appendChild( document.createElement( 'textarea' ) );\n        this._textarea.placeholder = this._placeholder || this._lang;\n        this._textarea.spellcheck = false;\n        this._textarea.name = this._name || '';\n        this._textarea.value = this._codeBlock.textContent;\n        this._preBlock.setAttribute( 'aria-hidden', 'true' );\n        this._scrollBlock = this.getAttribute( 'scroll-block' ) === 'code' ? this._codeBlock : this._preBlock;\n        this._textarea.addEventListener( 'input', e => { this.source = e.target.value } );\n        this._textarea.addEventListener( 'input', () => this._syncScrolling() );\n        this._textarea.addEventListener( 'scroll', () => this._syncScrolling() );\n        this._textarea.addEventListener( 'keydown', e => this._handleTabKeyEvent( e ) );\n    }\n\n    _handleTabKeyEvent( e ) {\n        if ( !this._textarea ) return;\n        if ( e.key !== 'Tab' ) return;\n        e.preventDefault()\n        let text = this._textarea.value,\n            selectionStart = this._textarea.selectionStart, // where cursor moves after tab - moving forward by 1 indent\n            selectionEnd = this._textarea.selectionEnd; // where cursor moves after tab - moving forward by 1 indent\n        if ( selectionStart === selectionEnd ) {\n            let beforeSelection = text.slice( 0, selectionStart ); // text before tab\n            let afterSelection = text.slice( selectionEnd, text.length ); // text after tab\n            let cursorLocation = selectionEnd + 1; // where cursor moves after tab - moving forward by 1 char to after tab\n            // Add tab char\n            this._textarea.value = beforeSelection + \"\\t\" + afterSelection;\n            // Move cursor\n            this._textarea.selectionStart = cursorLocation;\n            this._textarea.selectionEnd = cursorLocation;\n        } else {\n            let lines = text.split( \"\\n\" ),\n                letter_i = 0,\n                numberIndents = 0,\n                firstLineIndents = 0;\n            for ( let i = 0; i < lines.length; i ++ ) {\n                letter_i += lines[ i ].length;\n                if( selectionStart < letter_i && selectionEnd > letter_i - lines[ i ].length ) {\n                    if( e.shiftKey ) {\n                        if ( lines[ i ][ 0 ] === \"\\t\" ) {\n                            lines[ i ] = lines[i].slice( 1 );\n                            if ( numberIndents === 0 ) firstLineIndents --;\n                            numberIndents --;\n                        }\n                    } else {\n                        lines[ i ] = \"\\t\" + lines[ i ];\n                        if ( numberIndents === 0 ) firstLineIndents ++;\n                        numberIndents ++;\n                    }\n                }\n            }\n            this._textarea.value = lines.join( \"\\n\" );\n            // Move cursor\n            this._textarea.selectionStart = selectionStart + firstLineIndents;\n            this._textarea.selectionEnd = selectionEnd + numberIndents;\n        }\n        this.source = this._textarea.value;\n    }\n\n    _syncScrolling() {\n        if ( !this._scrollBlock ) return;\n        this._scrollBlock.scrollTop = this._textarea.scrollTop;\n        this._scrollBlock.scrollLeft = this._textarea.scrollLeft;\n    }\n\n    _highlightCodeBlock() {\n        Prism.highlightElement( this._codeBlock );\n    }\n\n    disconnectedCallback() {\n        Array.from( this.shadowRoot.childNodes ).forEach( node => node.remove() );\n    }\n\n    attributeChangedCallback( name, oldValue, newValue ) {\n        if ( !this.childNodes.length ) {\n            return;\n        }\n        switch ( name ) {\n            case 'name':\n                this._name = newValue;\n                this._textarea.name = newValue;\n                break;\n            case 'placeholder':\n                this._placeholder = newValue;\n                this._textarea.placeholder = newValue;\n                break;\n            case 'editable':\n                this._editable = newValue;\n                if ( this._textarea ) {\n                    this._textarea.disabled = newValue === 'false';\n                } else if ( newValue === 'true' ) {\n                    this._addEditor();\n                }\n                if ( newValue === 'true' ) {\n                    this._textarea.focus();\n                }\n                break;\n        }\n    }\n\n    /**\n     * ----------\n     *  CSS\n     * ----------\n     */\n\n    get css() {\n        return [\n            `https://unpkg.com/@webqit/subscript/src/console/assets/prism.css`,\n            `https://unpkg.com/@webqit/subscript/src/console/assets/vs-code-dark.css`,\n            `\n            * {\n                -webkit-box-sizing: border-box;\n                -moz-box-sizing: border-box;\n                box-sizing: border-box;\n            }\n            :host {\n                /* Allow other elems to be inside */\n                position: relative;\n                top: 0;\n                left: 0;\n                display: block;\n                \n                /* Normal inline styles */\n                \n                font-size: 0.8rem;\n                font-family: monospace;\n                line-height: 1.2rem;\n                tab-size: 2;\n                caret-color: darkgrey;\n                white-space: pre;\n                overflow: hidden;\n            }\n            .container {\n                min-height: 100%;\n                width: 100%;\n                display: flex;\n            }\n            .container > * {\n                width: 100%;\n            }\n            \n            textarea, ${ this._styledBlock } {\n                /* Both elements need the same text and space styling so they are directly on top of each other */\n                margin: 0px !important;\n                padding-top: var(--vertical-padding, 1.5rem) !important;\n                padding-bottom: var(--vertical-padding, 1.5rem) !important;\n                padding-left: var(--horizontal-padding, 1rem) !important;\n                padding-right: var(--horizontal-padding, 1rem) !important;\n                border: 0 !important;\n                width: 100% !important;\n                height: 100% !important;\n            }\n            ${ this._styledBlock === 'code' ? 'pre' : 'code' } {\n                margin: 0px !important;\n                border: 0px !important;\n                padding: 0px !important;\n                overflow: auto !important;\n                width: 100% !important;\n                height: 100% !important;\n            }\n            .line-numbers :is(textarea, pre[class*=language-]) {\n                padding-left:3.8rem !important;\n            }\n            textarea, pre, pre * {\n                /* Also add text styles to highlighing tokens */\n                font-size: inherit !important;\n                font-family: inherit !important;\n                line-height: inherit !important;\n                tab-size: inherit !important;\n            }\n            \n            textarea, pre {\n                /* In the same place */\n                position: absolute;\n                top: 0;\n                left: 0;\n            }\n            textarea[disabled] {\n                pointer-events: none !important;\n            }\n            \n            /* Move the textarea in front of the result */\n            \n            textarea {\n                z-index: 1;\n            }\n            pre {\n                z-index: 0;\n            }\n            \n            /* Make textarea almost completely transparent */\n            \n            textarea {\n                color: transparent;\n                background: transparent;\n                caret-color: inherit!important; /* Or choose your favourite color */\n            }\n            \n            /* Can be scrolled */\n            textarea, pre {\n                overflow: auto !important;\n            \n                white-space: inherit !important;\n                word-spacing: normal !important;\n                word-break: normal !important;\n                word-wrap: normal !important;\n            }\n            \n            /* No resize on textarea; stop outline */\n            textarea {\n                resize: none;\n                outline: none !important;\n            }\n            .line-numbers-rows {\n                border: none !important;\n                color: dimgray !important;\n            }\n            `,\n        ]\n    }\n\n}\n","\n/**\n * @Path\n */\nexport default Interactable => class extends ( Interactable || class {} ) {\n\n    setStateCallback( type, state, value, duration = 100, callback ) {\n        if ( !this._timeouts ) {\n            this._timeouts = {};\n        }\n        if ( !( type in this._timeouts ) ) {\n            this._timeouts[ type ] = [];\n        }\n        if ( value ) {\n            if ( !this._timeouts[ type ].length ) {\n                callback();\n            }\n            if ( duration ) {\n                this._timeouts[ type ].unshift( setTimeout( () => this.setState( type, state, false ), duration ) );\n            } else {\n                this._timeouts[ type ].unshift( null );\n            }\n            if ( this._related ) {\n                this._related.setState( type, state, true, duration );\n            }\n        } else {\n            this._timeouts[ type ].shift();\n            if ( !this._timeouts[ type ].length ) {\n                callback();\n                if ( this._related ) {\n                    this._related.setState( type, state, false );\n                }\n            }\n        }\n    }\n\n}","/**\n * @imports\n */\nimport Interactable from './Interactable.js';\n\n/**\n * @Ref\n */\nexport default class Ref extends Interactable() {\n\n    bind( binding ) {\n        Object.assign( this, binding );\n\n        this.fullPaths = [];\n        this.$fullPaths = [];\n        if ( this.ownerReference.assignee ) {\n            this.ownerReference.assignee.refs.forEach( ref => {\n                if ( !ref.depth ) return;\n                this.fullPaths.push( [ ...this.path, ...ref.depth ] );\n            } );\n        }\n        if ( !this.fullPaths.length ) {\n            this.fullPaths = [ this.path ];\n        }\n\n        this.fullPaths.forEach( ( fullPath, pathIndex ) => {\n            this.$fullPaths.push( fullPath.map( element => ( 'memoId' in element ) ? `[[computed]]` : element.name ).join( '.' ) );\n            \n            fullPath.forEach( element => {\n                element.anchor.classList.add( 'ref-identifier' );\n                element.anchor.classList.add( this.subscriptions ? 'effect' : 'signal' );\n                let existingTitle = element.anchor.getAttribute( `title` );\n                let currentTitle = '> ' \n                    + this.$fullPaths[ pathIndex ] \n                    + ( this.subscriptions ? ' (Effect Ref)' : ' (Signal Ref)' );\n                element.anchor.setAttribute( `title`, existingTitle ? existingTitle + \"\\n\" + currentTitle : currentTitle );\n            });\n\n            this._on( pathIndex, 'mouseenter', () => {\n                this._setState( pathIndex, 'path', 'hover', true, 0 );\n            } )._on( pathIndex, 'mouseleave', () => {\n                this._setState( pathIndex, 'path', 'hover', false );\n            } );\n\n            if ( this.subscriptions ) {\n                this._on( pathIndex, 'click', () => {\n                    this.ownerReference.ownerUnit.runThread( fullPath );\n                } );\n            }\n        } );\n    }\n\n    _setState( pathIndex, type, state, value, duration = 100 ) {\n        this.setStateCallback( pathIndex + '|' + type, state, value, duration, () => {\n            if ( value ) {\n                this.fullPaths[ pathIndex ].forEach( element => element.anchor.classList.add( `${ type }-${ state }` ) );\n            } else {\n                this.fullPaths[ pathIndex ].forEach( element => element.anchor.classList.remove( `${ type }-${ state }` ) );\n            }\n        } );\n    }\n\n    setState( type, state, value, duration = 100 ) {\n        let [ _index, _type ] = type.split( '|' );\n        if ( _type !== undefined ) {\n            return this._setState( _index, _type, state, value, duration );\n        }\n        this.fullPaths.forEach( ( p, i ) => {\n            this._setState( i, type, state, value, duration );\n        } );\n    }\n\n    _on( pathIndex, eventName, callback ) {\n        this.fullPaths[ pathIndex ].forEach( pathElement => pathElement.anchor.addEventListener( eventName, callback.bind( this ) ) );\n        return this;\n    }\n\n    on( eventName, callback ) {\n        this.fullPaths.forEach( ( p, i ) => {\n            this._on( i, eventName, callback );\n        } );\n    }\n}","/**\n * @imports\n */\nimport Interactable from './Interactable.js';\nimport Ref from './Ref.js';\n\n/**\n * @Path\n */\nexport default class Unit extends Interactable( HTMLElement ) {\n\n    bind( binding ) {\n        Object.assign( this, binding );\n        if ( !this.graph ) return;\n        \n        if ( this.subUnits ) {\n            this.subUnits.forEach( subUnit => {\n                subUnit.replaceWith( ...subUnit.childNodes );\n            } );\n        }\n        this.subUnits = new Map;\n        this._textNodes = this.getTextNodes();\n        for ( let unitId in this.graph.subUnits ) {\n            let graph = this.graph.subUnits[ unitId ];\n            let childInstance = this.createSubUnit( { ownerUnit: this, graph } );\n            this.subUnits.set( graph.id, childInstance );\n        }\n\n        this.effects = new Map;\n        this.signals = new Map;\n        if ( this.refAnchors ) {\n            for ( let anchorId in this.refAnchors ) {\n                let anchor = this.refAnchors[ anchorId ];\n                anchor.replaceWith( ...anchor.childNodes );\n            }\n        }\n        this.refAnchors = {};\n        this._textNodes = this.getTextNodes();\n        const renderRefs = type => {\n            for ( let referenceId in this.graph[ type ] ) {\n                let referenceInstance = this.createReference( { ownerUnit: this, ...this.graph[ type ][ referenceId ] } );\n                this[ type ].set( referenceId, referenceInstance );\n            }\n        };\n        renderRefs( 'effects' );\n        renderRefs( 'signals' );\n\n        this.setAttribute( 'title', this.graph.type );\n        this.on( 'mouseenter', () => {\n            this.setState( 'block', 'hover', true, 0 );\n        } ).on( 'mouseleave', () => {\n            this.setState( 'block', 'hover', false );\n        } );\n        this.observe( ( event, refs ) => {\n            this.setState( 'block', 'runtime-active', true, 100 );\n            refs.forEach( ref => {\n                let referenceInstance = this.signals.get( ref.referenceId + '' );\n                if ( !referenceInstance ) return;\n                referenceInstance.refs.get( ref.id ).setState( 'path', 'runtime-active', true, 100 );\n            } );\n        } );\n    }\n\n    get program() {\n        if ( this.ownerUnit ) return this.ownerUnit.program;\n        return this.runtime;\n    }\n\n    runThread( ...refs ) {\n        let runtimeUnit = this.program.locate( this.graph.lineage );\n        if ( !runtimeUnit ) return;\n        return runtimeUnit.thread( ...refs );\n    }\n\n    observe( callback ) {\n        return this.program.observe( this.graph.lineage, callback );\n    }\n\n    createSubUnit( childBinding ) {\n        let childInstance = document.createElement( 'subscript-unit' );\n        this.insertNode( childInstance, childBinding.graph.loc, 'unit' );\n        childInstance.bind( childBinding );\n        return childInstance;\n    }\n\n    createReference( referenceBinding ) {\n        let referenceInstance = { ...referenceBinding, refs: new Map };\n        if ( 'assignee' in referenceBinding ) {\n            referenceInstance.assignee = this.effects.get( referenceBinding.assignee + '' );\n        }\n        for ( let refDef of referenceBinding.refs ) {\n            let refInstance = this.createRef( { ownerReference: referenceInstance, ...refDef } );\n            referenceInstance.refs.set( refDef.id, refInstance );\n        }\n        return referenceInstance;\n    }\n\n    createRef( refBinding ) {\n        let refInstance = new Ref;\n        const createAnchor = element => {\n            let [ start, end ] = element.loc, anchorId = start + '-' + end;\n            let anchor = this.refAnchors[ anchorId ];\n            if ( !anchor ) {\n                anchor = document.createElement( 'span' );\n                this.insertNode( anchor, [ start, end ], 'ref' );\n                this.refAnchors[ anchorId ] = anchor;\n            }\n            return anchor;\n        };\n        refBinding = { ...refBinding, path: refBinding.path.map( element => {\n            let anchor = createAnchor( element );\n            return { anchor, ...element };\n        } ), };\n        if ( refBinding.depth ) {\n            refBinding.depth = refBinding.depth.map( element => {\n                let anchor = createAnchor( element );\n                return { anchor, ...element };\n            } );\n        }\n        refInstance.bind( refBinding );\n        return refInstance;\n    }\n\n    insertNode( node, loc, type ) {\n        let [ start, end ] = loc;\n        let ownLocStart = this.graph.loc ? this.graph.loc[ 0 ] : 0;\n        let [ startOffsetNode, startOffset ] = this.resolveOffset( start - ownLocStart ),\n            [ endOffsetNode, endOffset ] = this.resolveOffset( end - ownLocStart, false );\n        let range = new Range;\n        if ( type === 'unit' ) {\n            if ( startOffset === 0 \n            && startOffsetNode.parentNode.nodeName === 'SPAN'  ) {\n                range.setStartBefore( startOffsetNode.parentNode );\n            } else {\n                range.setStart( startOffsetNode, startOffset );\n            }\n            if ( endOffset === ( endOffsetNode.nodeValue || '' ).length \n            && endOffsetNode.parentNode.nodeName === 'SPAN' ) {\n                range.setEndAfter( endOffsetNode.parentNode );\n            } else {\n                range.setEnd( endOffsetNode, endOffset );\n            }\n        } else {\n            range.setStart( startOffsetNode, startOffset );\n            range.setEnd( endOffsetNode, endOffset );\n        }\n        range.surroundContents( node );\n        return node;\n    }\n\n    resolveOffset( offset, isStart = true ) {\n        return this._textNodes.reduce( ( [ prevNodeDef, final, prevSum ], nodeDef ) => {\n            if ( final === null ) {\n                let currentSum = prevSum + nodeDef.length;\n                if ( offset <= currentSum && !nodeDef.isBlank ) {\n                    let subOffset = offset - prevSum;\n                    if ( !isStart && subOffset === 0 ) {\n                        // We must not end at the start of a text node\n                        return [ prevNodeDef.node, prevNodeDef.length ];\n                    }\n                    if ( ( !isStart || subOffset < nodeDef.length ) ) {\n                        // We're sure not starting at the end of a text node\n                        return [ nodeDef.node, subOffset ];\n                    }\n                }\n                [ prevNodeDef, final, prevSum ] = [ nodeDef, final, currentSum ];\n            }\n            return [ prevNodeDef, final, prevSum ];\n        }, [ null, null, 0 ] );\n    }\n\n    getTextNodes( from = this ) {\n        let rejectScriptTextFilter = {\n            acceptNode: function( node ) {\n                if ( node.parentNode.nodeName === 'SCRIPT' ) return;\n                return window.NodeFilter.FILTER_ACCEPT;\n            }\n        };\n        let walker = window.document.createTreeWalker( from || this, window.NodeFilter.SHOW_TEXT, rejectScriptTextFilter, false );\n        let textNodes = [], node;\n        while( node = walker.nextNode() ) {\n            let textContent = node.nodeValue || '';\n            textNodes.push( { node, length: textContent.length, isBlank: textContent.trim().length === 0 } );\n        }\n        return textNodes;\n    }\n\n    setState( type, state, value, duration = 100 ) {\n        if ( value && this.ownerUnit ) {\n            this.ownerUnit.setState( type, state, false );\n        }\n        this.setStateCallback( type, state, value, duration, () => {\n            if ( value ) {\n                this.classList.add( `${ type }-${ state }` );\n            } else {\n                this.classList.remove( `${ type }-${ state }` );\n            }\n        } );\n    }\n\n    on( eventName, callback ) {\n        this.addEventListener( eventName, callback.bind( this ) );\n        return this;\n    }\n\n}","\n/**\n * @imports\n */\nimport CodeBlock from './CodeBlock.js';\nimport Unit from './Unit.js';\n\n/**\n * @Console\n */\nexport default class Console extends CodeBlock( Unit ) {\n\n    bind( subscriptFunction, autoRender = true ) {\n        if ( autoRender ) {\n            // Sets both textarea and codeBlock\n            this.innerHTML = subscriptFunction.originalSource;\n        }\n        setTimeout( () => {\n            if ( !this._codeBlock.textContent.length ) return;\n            let runtime = subscriptFunction.runtime;\n            super.bind( { runtime, graph: runtime.graph } );\n        }, 0 );\n    }\n\n    createRef( refBinding ) { }\n\n    getTextNodes( from = null ) {\n        return super.getTextNodes( from || this._codeBlock );\n    }\n\n    /**\n     * ----------\n     *  CSS\n     * ----------\n     */\n\n    get css() {\n        return super.css.concat([\n            `\n            .ref-identifier.path-runtime-active {\n                text-decoration: underline;\n            }\n            .ref-identifier:is(.path-runtime-active) {\n            }\n\n            .ref-identifier.cause {\n                cursor: default;\n            }\n\n            .ref-identifier.effect {\n                cursor: pointer;\n            }\n\n            .ref-identifier.cause:is(.path-hover, .path-runtime-active) {\n                color: aqua;\n            }\n            .token.keyword .ref-identifier.cause:is(.path-hover, .path-runtime-active) {\n                color: mediumturquoise;\n            }\n            \n            .ref-identifier.effect:is(.path-hover, .path-runtime-active) {\n                color: yellowgreen;\n                text-decoration: underline;\n            }\n\n            .ref-identifier.cause.effect:is(.path-hover, .path-runtime-active) {\n                color: lightgreen;\n            }\n\n            subscript-unit.block-hover,\n            subscript-unit.block-runtime-active {\n                outline: 1px dashed gray;\n                outline-offset: 0.1rem;\n                border-radius: 0.1rem;\n                /*\n                background-color: darkblue;\n                */\n            }\n            subscript-unit.block-runtime-active {\n                background-color: rgba(100, 100, 100, 0.35);\n            }\n            `\n        ]);\n    }\n\n}\n\n/**\n * @define\n */\ncustomElements.define( 'subscript-codeblock', CodeBlock() );\ncustomElements.define( 'subscript-unit', Unit );\ncustomElements.define( 'subscript-console', Console );\n"],"names":["Element","constructor","super","this","attachShadow","mode","connectedCallback","concat","css","forEach","includes","shadowRoot","appendChild","document","createElement","textContent","cssElement","setAttribute","normalizeTabs","rawSource","rawSourceSplit","split","length","trim","shift","possibleBodyIndentLevel","map","line","i","possibleIndent","substring","join","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","exports","module","__webpack_modules__","d","definition","key","o","Object","defineProperty","enumerable","get","obj","prop","prototype","hasOwnProperty","call","CodeBlock","Base","HTMLElement","observedAttributes","_lang","_editable","getAttribute","_styledBlock","_div","_preBlock","_codeBlock","classList","add","_contentSlot","_initialSlotEvent","addEventListener","html","assignedNodes","reduce","_html","node","outerHTML","nodeValue","_textarea","value","source","replace","RegExp","escape","_addEditor","append","text","endsWith","innerHTML","_highlightCodeBlock","_syncScrolling","name","_name","newValue","placeholder","_placeholder","editable","spellcheck","_scrollBlock","e","target","_handleTabKeyEvent","preventDefault","selectionStart","selectionEnd","beforeSelection","slice","afterSelection","cursorLocation","lines","letter_i","numberIndents","firstLineIndents","shiftKey","scrollTop","scrollLeft","Prism","highlightElement","disconnectedCallback","Array","from","childNodes","remove","attributeChangedCallback","oldValue","disabled","focus","Interactable","setStateCallback","type","state","duration","callback","_timeouts","unshift","setTimeout","setState","_related","Ref","bind","binding","assign","fullPaths","$fullPaths","ownerReference","assignee","refs","ref","depth","push","path","fullPath","pathIndex","element","anchor","subscriptions","existingTitle","currentTitle","_on","_setState","ownerUnit","runThread","_index","_type","p","eventName","pathElement","on","Unit","graph","subUnits","subUnit","replaceWith","Map","_textNodes","getTextNodes","unitId","childInstance","createSubUnit","set","id","effects","signals","refAnchors","anchorId","renderRefs","referenceId","referenceInstance","createReference","observe","event","program","runtime","runtimeUnit","locate","lineage","thread","childBinding","insertNode","loc","referenceBinding","refDef","refInstance","createRef","refBinding","createAnchor","start","end","ownLocStart","startOffsetNode","startOffset","resolveOffset","endOffsetNode","endOffset","range","Range","parentNode","nodeName","setStartBefore","setStart","setEndAfter","setEnd","surroundContents","offset","isStart","prevNodeDef","final","prevSum","nodeDef","currentSum","isBlank","subOffset","rejectScriptTextFilter","acceptNode","window","NodeFilter","FILTER_ACCEPT","walker","createTreeWalker","SHOW_TEXT","textNodes","nextNode","Console","subscriptFunction","autoRender","originalSource","customElements","define"],"sourceRoot":""}