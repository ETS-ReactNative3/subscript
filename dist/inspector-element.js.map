{"version":3,"file":"inspector-element.js","mappings":"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","sources":["webpack://@webqit/subscript/./src/console/Base.js","webpack://@webqit/subscript/webpack/bootstrap","webpack://@webqit/subscript/webpack/runtime/define property getters","webpack://@webqit/subscript/webpack/runtime/hasOwnProperty shorthand","webpack://@webqit/subscript/./src/console/Inspector.js"],"sourcesContent":["\n/**\n * @Console2\n */\nexport default Element => class Base extends Element {\n\n    constructor() {\n        super();\n        this.attachShadow( { mode: 'open' } );\n    }\n\n    connectedCallback() {\n        [].concat( this.css ).forEach( css => {\n            if ( css.includes( '{' ) && css.includes( ':' ) && css.includes( ';' ) ) {\n                let cssElement = this.shadowRoot.appendChild( document.createElement( 'style' ) );\n                cssElement.textContent = css;\n            } else {\n                let cssElement = this.shadowRoot.appendChild( document.createElement( 'link' ) );\n                cssElement.setAttribute( 'rel', 'stylesheet' );\n                cssElement.setAttribute( 'href', css );\n            }\n        } );\n    }\n\n    /**\n     * ----------\n     *  CSS\n     * ----------\n     */\n\n     get css() {\n        return []\n    }\n\n}","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","\n/**\n * @imports\n */\nimport Base from './Base.js';\n\n/**\n * @Console2\n */\nexport default class Inspector extends Base( HTMLElement ) {\n\n    connectedCallback() {\n        this._contentSlot = document.createElement( 'slot' );\n        // ----------------\n        this.shadowRoot.append( this._contentSlot );\n        // ----------------\n        super.connectedCallback();\n        this._contentSlot.addEventListener( 'slotchange', () => {\n            setTimeout( () => { // Allow embedded subscript instances in slotted elements to manifest\n                let subscriptElement = this._contentSlot.assignedNodes().reduce( ( _subscriptElement, node ) => _subscriptElement || ( node.subscript instanceof Map ? node : null), null );\n                if ( subscriptElement ) {\n                    this.inspectElement( subscriptElement );\n                    let activeButton = this.getAttribute( 'active' );\n                    if ( activeButton ) {\n                        this.inspectFunction( activeButton );\n                    }\n                }\n            }, 0 );\n        } );\n    }\n\n    inspectElement( subscriptElement ) {\n        if ( this.consoleElement ) {\n            this.consoleElement.remove();\n            this.controlsElement.remove();\n        }\n        this.consoleElement = document.createElement( 'subscript-console' );\n        this.controlsElement = document.createElement( 'div' );\n        this.controlsElement.classList.add( 'controls-element' );\n        // ----------------\n        this.shadowRoot.append( this.consoleElement, this.controlsElement );\n        // ----------------\n        this.buttons = {};\n        subscriptElement.subscript.forEach( ( subscriptFunction, id ) => {\n            let title = typeof id === 'number' ? `script:${ id }` : `${ id }()`;\n            this.buttons[ id ] = this.controlsElement.appendChild( document.createElement( 'button' ) );\n            this.buttons[ id ].setAttribute( 'script-id', id );\n            this.buttons[ id ].setAttribute( 'title',  title );\n            let textElement = this.buttons[ id ].appendChild( document.createElement( 'span' ) );\n            textElement.append( ' ',  title );\n            let iconElement = this.buttons[ id ].appendChild( document.createElement( 'i' ) );\n            let iconClasses = this.getAttribute( `data-icons` ) || `bi bi-${ typeof id === 'number' ? 'code' : 'braces' }`;\n            iconClasses.split( ' ' ).map( str => str.trim() ).forEach( str => iconElement.classList.add( str ) );\n            this.buttons[ id ].addEventListener( 'click', e => {\n                if ( this.active ) {\n                    this.active.classList.remove( 'active' );\n                }\n                this.active = this.buttons[ id ];\n                this.active.classList.add( 'active' );\n                this.inspectFunction( subscriptFunction );\n            } );\n        } );\n    }\n\n    inspectFunction( subscriptFunction ) {\n        if ( !subscriptFunction || typeof subscriptFunction === 'string' ) {\n            let buttinName = subscriptFunction;\n            if ( !subscriptFunction ) {\n                buttinName = Object.keys( this.buttons )[ 0 ];\n            }\n            if ( buttinName ) {\n                let button = this.buttons[ buttinName ];\n                let event = new MouseEvent( 'click', { view: window, } );\n                button.dispatchEvent( event );\n            }\n            return;\n        };\n        this.consoleElement.bind( subscriptFunction );\n    }\n\n    /**\n     * ----------\n     *  CSS\n     * ----------\n     */\n\n     get css() {\n        return [\n            `https://cdn.jsdelivr.net/npm/bootstrap-icons@1.5.0/font/bootstrap-icons.css`,\n            `\n            * {\n                -webkit-box-sizing: border-box;\n                -moz-box-sizing: border-box;\n                box-sizing: border-box;\n            }\n            :host {\n                position: relative;\n                display: block;\n                background-color: rgb(75, 75, 75);\n            }\n            .controls-element {\n                position: relative;\n                z-index: 10;\n            }\n            .controls-element button {\n                display: inline-flex;\n                align-items: center;\n                background-color: transparent;\n                padding: 0.5rem 1rem;\n                border: none;\n                color: silver;\n            }\n            .controls-element button:is(:hover, .active) {\n                background-color: dimgray;\n                color: gainsboro;\n            }\n            .controls-element button .bi {\n                margin-left: 0.5rem;\n            }\n            `,\n        ]\n    }\n\n}\n\n/**\n * @define\n */\ncustomElements.define( 'subscript-inspector', Inspector );\n"],"names":["Element","constructor","super","this","attachShadow","mode","connectedCallback","concat","css","forEach","includes","shadowRoot","appendChild","document","createElement","textContent","cssElement","setAttribute","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","exports","module","__webpack_modules__","d","definition","key","o","Object","defineProperty","enumerable","get","obj","prop","prototype","hasOwnProperty","call","Inspector","HTMLElement","_contentSlot","append","addEventListener","setTimeout","subscriptElement","assignedNodes","reduce","_subscriptElement","node","subscript","Map","inspectElement","activeButton","getAttribute","inspectFunction","consoleElement","remove","controlsElement","classList","add","buttons","subscriptFunction","id","title","iconElement","split","map","str","trim","e","active","bind","buttinName","keys","button","event","MouseEvent","view","window","dispatchEvent","customElements","define"],"sourceRoot":""}